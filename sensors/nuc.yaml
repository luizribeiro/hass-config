# systemmonitor sensors (which I want to deprecate)
- platform: systemmonitor
  resources:
    - type: processor_use
    - type: memory_use_percent
    - type: swap_use_percent
    - type: disk_use_percent
      arg: /
    - type: throughput_network_in
      arg: eno1
    - type: throughput_network_out
      arg: eno1
    - type: last_boot

# collectd sensors through MQTT
- platform: mqtt
  name: "NUC CPU Usage"
  state_topic: "collectd/nuc/cpu/percent-idle"
  unit_of_measurement: "%"
  icon: "mdi:memory"
  value_template: "{{ (100.0 - (value.split(':')[1][:-1] | float)) | round(1) }}"

- platform: mqtt
  name: "NUC CPU0 Frequency"
  state_topic: "collectd/nuc/cpufreq-0/cpufreq"
  unit_of_measurement: "MHz"
  icon: "mdi:speedometer"
  value_template: "{{ ((value.split(':')[1][:-1] | float) / 1000000.0) | round(0) }}"
- platform: mqtt
  name: "NUC CPU1 Frequency"
  state_topic: "collectd/nuc/cpufreq-1/cpufreq"
  unit_of_measurement: "MHz"
  icon: "mdi:speedometer"
  value_template: "{{ ((value.split(':')[1][:-1] | float) / 1000000.0) | round(0) }}"
- platform: mqtt
  name: "NUC CPU2 Frequency"
  state_topic: "collectd/nuc/cpufreq-2/cpufreq"
  unit_of_measurement: "MHz"
  icon: "mdi:speedometer"
  value_template: "{{ ((value.split(':')[1][:-1] | float) / 1000000.0) | round(0) }}"
- platform: mqtt
  name: "NUC CPU3 Frequency"
  state_topic: "collectd/nuc/cpufreq-3/cpufreq"
  unit_of_measurement: "MHz"
  icon: "mdi:speedometer"
  value_template: "{{ ((value.split(':')[1][:-1] | float) / 1000000.0) | round(0) }}"

- platform: mqtt
  name: "NUC CPU Temperature"
  state_topic: "collectd/nuc/sensors-coretemp-isa-0000/temperature-temp1"
  unit_of_measurement: "Â°C"
  icon: "mdi:thermometer"
  value_template: "{{ (value.split(':')[1][:-1] | float) | round(1) }}"

- platform: mqtt
  name: "NUC Disk Free"
  state_topic: "collectd/nuc/df-root/df_complex-free"
  unit_of_measurement: "GB"
  icon: "mdi:harddisk"
  value_template: "{{ ((value.split(':')[1][:-1] | float) / 1000000000.0) | round(2) }}"
- platform: mqtt
  name: "NUC Disk Used"
  state_topic: "collectd/nuc/df-root/df_complex-used"
  unit_of_measurement: "GB"
  icon: "mdi:harddisk"
  value_template: "{{ ((value.split(':')[1][:-1] | float) / 1000000000.0) | round(2) }}"

- platform: mqtt
  name: "NUC Ingress (eno1)"
  state_topic: "collectd/nuc/interface-eno1/if_octets"
  unit_of_measurement: "KB/s"
  icon: "mdi:download-network"
  value_template: "{{ ((value.split(':')[1] | float) / 1000.0) | round(1) }}"
- platform: mqtt
  name: "NUC Egress (eno1)"
  state_topic: "collectd/nuc/interface-eno1/if_octets"
  unit_of_measurement: "KB/s"
  icon: "mdi:upload-network"
  value_template: "{{ ((value.split(':')[2][:-1] | float) / 1000.0) | round(1) }}"
